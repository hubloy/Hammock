jQuery(function(e){e("body").on("submit","form.hubloy-membership-ajax-form",function(t){var o=e(this),a=o.find("button"),n=a.text();return a.attr("disabled","disabled"),a.html("<img src='"+hubloy-membership.assets.spinner+"' />"),e.post(hubloy-membership.ajax_url,o.serialize()).done(function(t){a.removeAttr("disabled"),a.html(n),!0===t.success?(o.trigger("reset"),void 0!==t.data.message?(hubloy-membership.helper.notify(t.data.message,"success"),void 0!==t.data.url&&(window.location.href=t.data.url),void 0!==t.data.reload&&window.location.reload()):hubloy-membership.helper.notify(t.data,"success")):hubloy-membership.helper.notify(t.data,"warning")}).fail(function(t,o,e){a.removeAttr("disabled"),a.html(n),hubloy-membership.helper.notify(hubloy-membership.error,"error")}),!1}),e("body").on("click",".hubloy-membership-link-switch",function(t){t.preventDefault();var o=e(this),t=o.attr("data-target"),o=e(o.attr("data-container")),t=o.find(t);o.children("div").each(function(t,o){e(o).addClass("hubloy-membership-hidden")}),t.removeClass("hubloy-membership-hidden")}),e("body").on("submit","form.hubloy-membership-checkout-form",function(t){var o=e(this),a=o.find("button"),n=a.text();return a.attr("disabled","disabled"),a.html("<img src='"+hubloy-membership.assets.spinner+"' />"),e.post(hubloy-membership.ajax_url,o.serialize()).done(function(t){!0===t.success?(e(document.body).trigger("hubloy-membership_checkout_success",[t]),void 0!==t.data.message?(hubloy-membership.helper.notify(t.data.message,"success"),void 0!==t.data.link&&(window.location.href=t.data.link)):hubloy-membership.helper.notify(t.data,"success")):hubloy-membership.helper.notify(t.data,"warning"),a.removeAttr("disabled"),a.html(n)}).fail(function(t,o,e){a.removeAttr("disabled"),a.html(n),hubloy-membership.helper.notify(hubloy-membership.error,"error")}),!1})}),window.hubloy-membership=window.hubloy-membership||{},hubloy-membership.helper={notify:function(t,o,e){Swal.fire({type:o,html:t,confirmButtonText:hubloy-membership.common.buttons.ok}).then(function(t){t.value&&void 0!==e&&e()})},confirm:function(t,o,e){Swal.fire({type:o,html:t,showCancelButton:!0,confirmButtonText:hubloy-membership.common.buttons.ok,cancelButtonText:hubloy-membership.common.buttons.cancel}).then(function(t){t.value&&void 0!==e&&e()})},loader:function(t,o){jQuery("<div class='"+t+"'><img src='"+hubloy-membership.assets.spinner+"' class='hubloy-membership-spinner-center'/></div>").css({position:"absolute",width:"100%",height:"100%",top:0,left:0,background:"#ecebea",textAlign:"center"}).appendTo(o.css("position","relative"))}};