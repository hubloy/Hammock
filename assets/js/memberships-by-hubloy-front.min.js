jQuery(function(s){s("body").on("submit","form.hubloy_membership-ajax-form",function(e){var o=s(this),i=o.find("button"),r=i.text();return i.attr("disabled","disabled"),i.html("<img src='"+hubloy_membership.assets.spinner+"' />"),s.post(hubloy_membership.ajax_url,o.serialize()).done(function(e){i.removeAttr("disabled"),i.html(r),!0===e.success?(o.trigger("reset"),void 0!==e.data.message?(hubloy_membership.helper.notify(e.data.message,"success"),void 0!==e.data.url&&(window.location.href=e.data.url),void 0!==e.data.reload&&window.location.reload()):hubloy_membership.helper.notify(e.data,"success")):hubloy_membership.helper.notify(e.data,"warning")}).fail(function(e,o,t){i.removeAttr("disabled"),i.html(r),hubloy_membership.helper.notify(hubloy_membership.error,"error")}),!1}),s("body").on("click",".hubloy_membership-link-switch",function(e){e.preventDefault();var o=s(this),e=o.attr("data-target"),o=s(o.attr("data-container")),e=o.find(e);o.children("div").each(function(e,o){s(o).addClass("memberships-by-hubloy-hidden")}),e.removeClass("memberships-by-hubloy-hidden")}),s("body").on("submit","form.hubloy_membership-checkout-form",function(e){var o=s(this),i=o.find("button"),r=i.text();return i.attr("disabled","disabled"),i.html("<img src='"+hubloy_membership.assets.spinner+"' />"),s.post(hubloy_membership.ajax_url,o.serialize()).done(function(e){!0===e.success?(s(document.body).trigger("hubloy_membership_checkout_success",[e]),void 0!==e.data.message?(hubloy_membership.helper.notify(e.data.message,"success"),void 0!==e.data.url&&(window.location.href=e.data.url)):hubloy_membership.helper.notify(e.data,"success")):hubloy_membership.helper.notify(e.data,"warning"),i.removeAttr("disabled"),i.html(r)}).fail(function(e,o,t){i.removeAttr("disabled"),i.html(r),hubloy_membership.helper.notify(hubloy_membership.error,"error")}),!1}),s("body").on("click",'a[name="apply_coupon"]',function(e){e.preventDefault();var i=s(this),r=i.text(),o=i.attr("data-invoice"),t=i.attr("data-nonce"),n=s('input[name="coupon_code"]'),e=n.val(),a=s(".hubloy-membership-invoice-amount");e?s.post(window.ajaxurl,{code:code,invoice:o,_wpnonce:t,action:"hubloy_membership_validate_coupon_code"}).done(function(e){i.removeAttr("disabled"),i.html(r),!0===e.success?(hubloy_membership.helper.notify(e.data.message,"success"),a.html(e.data.total)):hubloy_membership.helper.notify(e.data,"warning")}).fail(function(e,o,t){i.removeAttr("disabled"),i.html(r),hubloy_membership.helper.notify(hubloy_membership.error,"error")}):n.focus()}),s("body").on("click",'a[name="apply_invite"]',function(e){e.preventDefault();var i=s(this),r=i.text(),o=i.attr("data-invoice"),t=i.attr("data-nonce"),n=s('input[name="invite_code"]'),e=n.val(),a=s('button[name="hubloy_membership_checkout"]');e?s.post(window.ajaxurl,{code:code,invoice:o,_wpnonce:t,action:"hubloy_membership_validate_invite_code"}).done(function(e){i.removeAttr("disabled"),i.html(r),!0===e.success?(hubloy_membership.helper.notify(e.data,"success"),a.prop("disabled",!1)):(hubloy_membership.helper.notify(e.data,"warning"),a.prop("disabled",!0))}).fail(function(e,o,t){i.removeAttr("disabled"),i.html(r),hubloy_membership.helper.notify(hubloy_membership.error,"error")}):n.focus()})}),window.hubloy_membership=window.hubloy_membership||{},hubloy_membership.helper={notify:function(e,o,t){Swal.fire({type:o,html:e,confirmButtonText:hubloy_membership.common.buttons.ok}).then(function(e){e.value&&void 0!==t&&t()})},confirm:function(e,o,t){Swal.fire({type:o,html:e,showCancelButton:!0,confirmButtonText:hubloy_membership.common.buttons.ok,cancelButtonText:hubloy_membership.common.buttons.cancel}).then(function(e){e.value&&void 0!==t&&t()})},loader:function(e,o){jQuery("<div class='"+e+"'><img src='"+hubloy_membership.assets.spinner+"' class='hubloy_membership-spinner-center'/></div>").css({position:"absolute",width:"100%",height:"100%",top:0,left:0,background:"#ecebea",textAlign:"center"}).appendTo(o.css("position","relative"))}};